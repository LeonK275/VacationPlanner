@{
    ViewData["Title"] = "JSON Import";
}
<h1>JSON Import</h1>

@if (!ViewData.ModelState.IsValid)
{
    <div class="alert alert-danger">
        @foreach (var kv in ViewData.ModelState)
        {
            foreach (var err in kv.Value!.Errors)
            {
                <div>@err.ErrorMessage</div>
            }
        }
    </div>
}

<form asp-action="Index" method="post" enctype="multipart/form-data">
    <div class="mb-3">
        <label class="form-label">JSON-Datei</label>
        <input type="file" name="file" class="form-control" accept=".json,application/json" />
    </div>

    <button class="btn btn-primary" type="submit">Import starten</button>
</form>

<p class="mt-3 text-muted">
    Insert-only: Duplikate/inkonsistente Referenzen werden als Fehler gemeldet.
</p>